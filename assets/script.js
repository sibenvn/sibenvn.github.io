function js(e,t){this.nodes=this.selector(e,t),this.length=this.nodes.length}js.prototype.selector=function(e,t){if(e instanceof HTMLElement)return[e];if(e instanceof Array)return[].slice.call(e);if(e instanceof Object)return[e];if(e&&"string"!=typeof e)return[e];if(t=t||document,/^#(?:[\w-]|\\.|[^\x00-\xa0])*$/.test(e)){const n=t.getElementById(e.substring(1));return n?[n]:[]}return[].slice.call(t.querySelectorAll(e)||[])},js.prototype.get=function(e=0){if(Number.isInteger(e))return this.nodes[e]??void 0},js.prototype.getAll=function(){return this.nodes},js.prototype.create=function(e,t=(e=>{})){if(e&&"string"!=typeof e)return void 0!==e.length?e:[e];let n=this.get().createElement(e);return n.onload=t(n),n},js.prototype.eq=function(e){const t=this.get(e);return void 0!==t?$(t):void 0},js.prototype.has=function(e=0){return void 0!==this.get(e)},js.prototype.remove=function(){return this.has()?this.get().remove():void 0},js.prototype.find=function(e){return this.has()?$(e,this.get()):void 0},js.prototype.append=function(e){this.get().append(e)},js.prototype.prepend=function(e){this.get().prepend(e)},js.prototype.each=function(e){return this.length?(this.nodes.forEach(e),this):this},js.prototype.addEvent=function(e,t,n=!1){for(var o=e.split(" "),i=0,a=o.length;i<a;i++)this.get().addEventListener(o[i],t,n)},js.prototype.removeEvent=function(e,t,n=!1){for(var o=e.split(" "),i=0,a=o.length;i<a;i++)this.get().removeEventListener(o[i],t,n)},js.prototype.html=function(e){return void 0!==e&&("string"==typeof e&&(this.get().innerHTML=e),"function"==typeof e&&(this.get().innerHTML=e(this.get().innerHTML))),this.get().innerHTML},js.prototype.text=function(e){return void 0!==e&&("string"==typeof e&&(this.get().innerText=e),"function"==typeof e&&(this.get().innerText=e(this.get().innerText))),this.get().innerText},js.prototype.val=function(e){return void 0!==e&&("string"==typeof e&&(this.get().value=e),"function"==typeof e&&(this.get().value=e(this.get().value))),this.get().value},js.prototype.attr=function(){let e=function(){};return e.prototype.get=function(e){return this.get().getAttribute(e)},e.prototype.set=function(e,t){return this.get().setAttribute(e,t)},e.prototype.remove=function(e){return this.get().removeAttribute(e)},new e},js.prototype.class=function(){let e=function(e){this.class=e};return e.prototype.has=function(e){return this.class.contains(e)},e.prototype.add=function(e){return this.class.add(e)},e.prototype.remove=function(e){return this.class.remove(e)},e.prototype.toggle=function(e){return this.class.toggle(e)},new e(this.get().classList)};const $=(e,t)=>new js(e,t);$.getDomain=()=>window.location.host,$.getURLOrigin=()=>window.location.origin,$.getURLCurrent=()=>window.location.origin+window.location.pathname,$.pageNotFound=()=>{$("html").html('<head><title>Not Found</title><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="robots" content="noindex"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico"><link rel="dns-prefetch" href="//fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin><link href="https://fonts.googleapis.com/css?family=Roboto:400" rel="stylesheet"><style>*{-webkit-tap-highlight-color:transparent;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;outline:none}body{font-family:"Roboto",system-ui,Helvetica,Arial,sans-serif;color:#a0aec0;background-color:#1a202c;font-size:20px;padding:0;margin:0}.container{display:block}.error{margin:auto;display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center;padding:1rem;min-height:100vh}.error>.error-body{display:block}.error>.error-body>.error-status-code{display:inline-block}.error>.error-body>.error-text{display:inline-block;text-transform:uppercase;border-left:1px solid #e2e8f0;padding-left:15px;padding-bottom:3px;margin-left:15px}</style></head><body><div class="container"><div class="error"><div class="error-body"><div class="error-status-code">404</div><div class="error-text">Not Found</div></div></div></div></body>')},$.loadEvent=(e,t)=>{let n=!1;$(window).addEvent(e,(()=>{!1===n&&(t(),n=!0)}))},$.meta={title:"Sĩ Ben",desc:"Sĩ Ben là trang web Blog cá nhân chuyên chia sẻ miễn phí các kiến thức, thủ thuật, mẹo hay liên quan đến lập trình và phát triển phần mềm hàng đầu VN.",image:"https://sibenvn.github.io/assets/thumbnail.png",logo:"https://sibenvn.github.io/assets/logo.png",keywords:"Sĩ Ben, SEO, viết blog, tối ưu hóa từ khóa, tăng traffic, SEO cho người mới bắt đầu"},$.labels={"thu-thuat":"Thủ Thuật","lap-trinh":"Lập Trình","tin-tuc":"Tin Tức","meo-vat":"Mẹo Vặt","linh-tinh":"Linh Tinh",php:"PHP",javascript:"Javascript",nodejs:"NodeJS",python:"Python",windows:"Windows",linux:"Linux",android:"Android",ios:"IOS"},$.pageToken="",$.isLoaded=!1,$.getPath=()=>window.location.pathname,$.isBlogPath=e=>e.match(new RegExp(/^\/([0-9]+){4,4}\/([0-9]+){2,2}\/([a-z0-9-_]+)\.html$/)),$.buildAPI=(e="/",t={})=>{Object.assign(t,{key:"AIzaSyDWA8E9Aj8dQ4YZZIm779_XvvHxyd4w8jE"});return`https://www.googleapis.com/blogger/v3/blogs/${"2645484775443145447"+e}?${new URLSearchParams(t).toString()}`},$.fetchPosts=async(e="",t="")=>{const n={fields:"items(url,title,labels,published,updated,content),nextPageToken",maxResults:10};""!==e&&Object.assign(n,{labels:e}),""!==t&&Object.assign(n,{pageToken:t});const o=await fetch($.buildAPI("/posts",n));return await o.json()},$.fetchPost=async e=>{if(!$.isBlogPath(e))return;const t=await fetch($.buildAPI("/posts/bypath",{path:e,fields:"title,labels,published,updated,content"}));return await t.json()},$.removeDomain=e=>e.replace(/^.*\/\/[^\/]+/,""),$.blogToPath=e=>{let t=(e=e.replace(".html","")).split("/");return"/"+t[3]+"-"+t[1]+t[2]},$.pathToBlog=e=>{let t=e.split("-"),n=t[t.length-1];t.pop();let o="/"+n.slice(0,4)+"/"+n.slice(4,6)+t.join("-")+".html";if($.isBlogPath(o))return o},$.layouts=()=>($("head").html((e=>e+'<meta name="viewport" content="width=device-width, initial-scale=1"><meta content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1" name="robots"><meta content="notranslate" name="robots"><meta content="notranslate" name="google"/><meta content="nohover" name="pinterest"><meta content="index, follow" name="Googlebot"><meta content="index, follow, noodp" name="ROBOTS"><meta content="index, follow" name="BingBOT"><meta content="index, follow" name="yahooBOT"><meta content="index, follow" name="slurp"><meta content="index, follow" name="msnbot"><meta name="referrer" content="origin"><link rel="preconnect dns-prefetch" href="//www.googletagmanager.com"><link rel="preconnect dns-prefetch" href="//www.google-analytics.com"><link rel="preconnect dns-prefetch" href="//ajax.googleapis.com"><link rel="preconnect dns-prefetch" href="//cdnjs.cloudflare.com"><link rel="preconnect dns-prefetch" href="//pagead2.googlesyndication.com"><link rel="preconnect dns-prefetch" href="//googleads.g.doubleclick.net"><link rel="preconnect dns-prefetch" href="//tpc.googlesyndication.com"><link rel="preconnect dns-prefetch" href="//ad.doubleclick.net"><link rel="preconnect dns-prefetch" href="//www.gstatic.com"><link rel="preconnect dns-prefetch" href="//cse.google.com"><link rel="preconnect dns-prefetch" href="//fonts.gstatic.com"><link rel="preconnect dns-prefetch" href="//fonts.googleapis.com"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico"><meta property="og:locale:alternate" content="vi_VN">')),`<header><div class="container clear"><div class="nav"><div class="nav-header"><div class="nav-title"><span class="click" onclick="javascript:$.handler('/')">siben</span></div></div><input type="checkbox" id="nav-check"><div class="nav-btn"><label for="nav-check"><span></span><span></span><span></span></label></div><nav><ul><li><span class="click" onclick="javascript:$.handler('/')"><a href="javascript:void(0)">Trang Chủ</a></span></li></ul></nav></div></div></header><main><div class="container clear" id="blog"></div></main><footer><div class="container clear"><p class="copyright">Copyright &copy; ${(new Date).getFullYear()} - <span class="click" onclick="javascript:$.handler('/')"><a href="/">Sĩ Ben</a></span></p></div></footer>`),$.show=e=>{e.class().has("hidden")&&e.class().remove("hidden")},$.hide=e=>{e.class().has("hidden")||e.class().add("hidden")},$.createTag=(e,t,n,o)=>{let i=$(t);i.has()?o(i.get()):(i=$(document).create(n),i.onload=o(i),e.append(i))},$.seo=e=>{const t=$("head");$.createTag(t,"title","title",(t=>{t.innerText=e.title})),$.createTag(t,"meta[name=description]","meta",(t=>{t.name="description",t.setAttribute("content",e.desc)})),$.createTag(t,"meta[name=keywords]","meta",(t=>{t.name="keywords",t.setAttribute("content",e.keywords)})),$.createTag(t,'meta[property="og:title"]',"meta",(t=>{t.setAttribute("property","og:title"),t.setAttribute("content",e.title)})),$.createTag(t,'meta[property="og:description"]',"meta",(t=>{t.setAttribute("property","og:description"),t.setAttribute("content",e.desc)})),$.createTag(t,'meta[property="og:image"]',"meta",(t=>{t.setAttribute("property","og:image"),t.setAttribute("content",e.image)})),$.createTag(t,'meta[property="og:url"]',"meta",(e=>{e.setAttribute("property","og:url"),e.setAttribute("content",$.getURLCurrent())})),$.createTag(t,'link[rel="canonical"]',"link",(e=>{e.setAttribute("rel","canonical"),e.setAttribute("href",$.getURLCurrent())}))},$.getImage=e=>{let t=e.match(/src="(.+?)"/);return t?t[1]:$.meta.image},$.toc=()=>{const e=$("#toc-list").get(),t=$("article h2, article h3, article h4, article h5, article h6").getAll();let n=2,o=e,i={2:e};t.forEach(((e,t)=>{const a=parseInt(e.tagName[1]),s=$(document).create("li"),r=$(document).create("a");if(r.textContent=e.textContent,r.href=`#heading-${t}`,e.id=`heading-${t}`,a>n){const e=$(document).create("ul");i[n].lastElementChild.appendChild(e),o=e,i[a]=e}else a<n&&(o=i[a]);s.appendChild(r),o.appendChild(s),n=a}))},$.wordCount=e=>{const t=e.match(/\b\w+\b/g);return t?t.length:0},$.timeAgo=e=>{const t=new Date-new Date(e),n=Math.floor(t/1e3),o=Math.floor(n/60),i=Math.floor(o/60),a=Math.floor(i/24),s=Math.floor(a/7),r=Math.floor(a/30),l=Math.floor(a/365);return n<60?"vừa xong":o<60?`${o} phút trước`:i<24?`${i} giờ trước`:a<7?`${a} ngày trước`:s<4?`${s} tuần trước`:r<12?`${r} tháng trước`:`${l} năm trước`},$.storage=[],$.showPost=(e,t)=>{let n=$.blogToPath($.removeDomain(t.url)),o="";t.labels.forEach((e=>{$.labels.hasOwnProperty(e)&&(o+=(""==o?"":", ")+`<span class="click" onclick="javascript:$.handler('/${e}')">${$.labels[e]}</span>`)})),$.storage[n]=t,e.html((e=>e+`<article class="post"><h2><span class="click" onclick="javascript:$.handler('${n}')"><a href="${n}">${t.title}</a></span></h2><p>${$.timeAgo(t.published)}</p></article>`))},$.tocClick=()=>{$("#toc").class().toggle("active"),$("#toc-list").class().toggle("hidden")},$.handler=async(e,t=!0)=>{if(!0!==$.isLoaded)if($.isLoaded=!0,!0===t&&(null!==window.history.state&&window.history.state.path==e?window.history.replaceState({path:e},"",e):window.history.pushState({path:e},"",e)),"/"==e||$.labels.hasOwnProperty(e.replace("/",""))){$("#blog").html(""),window.scrollTo(0,0);let t=e.replace("/",""),n={};n="/"==e?$.meta:{title:$.labels[t],desc:`Chuyên mục đăng tải các bài viết hay liên quan về ${$.labels[t]} trên Blog.`,image:$.meta.image,keywords:$.labels[t]},$.seo(n),$("#blog").html(`<div class="blog"><h1 class="hidden">${n.title}</h1><p class="hidden">${n.desc}</p><div id="posts" class="posts"></div><div class="lds-ellipsis hidden" id="loading"><div></div><div></div><div></div><div></div></div><div class="pagination"><button id="showmore" class="hidden">Xem Thêm</button></div></div>`);const o=$("#loading"),i=$("#showmore");$.show(o),$.hide(i);let a=[];if(e in $.storage?a=$.storage[e]:(a=await $.fetchPosts(t),$.storage[e]=a),!("items"in a))return $("#posts").append($(document).create("p",(e=>{e.setAttribute("style","text-align: center;color: #5c5757;padding: 28px 0px 19px 0px"),e.innerText="Chưa có đăng bài nào cả."}))),$.hide(o),void($.isLoaded=!1);a.items.forEach((e=>{$.showPost($("#posts"),e)})),$.hide(o),"nextPageToken"in a&&""!==a.nextPageToken?($.pageToken=a.nextPageToken,$.show(i)):($.pageToken="",$.hide(i)),i.addEvent("click",(async()=>{$.show(o),$.hide(i),a=await $.fetchPosts("",$.pageToken),e in $.storage&&($.storage[e].items=$.storage[e].items.concat(a.items),"nextPageToken"in a&&""!==a.nextPageToken?$.storage[e].nextPageToken=a.nextPageToken:$.storage[e].nextPageToken=""),a.items.forEach((e=>{$.showPost($("#posts"),e)})),$.hide(o),"nextPageToken"in a&&""!==a.nextPageToken?($.pageToken=a.nextPageToken,$.show(i)):($.pageToken="",$.hide(i))})),$('script[type="application/ld+json"]').remove(),$.isLoaded=!1}else if(e.match(new RegExp(/^\/([a-z0-9-_]+)\-([0-9]+){4,4}$/))){window.scrollTo(0,0),$("#blog").html('<div class="lds-ellipsis"><div></div><div></div><div></div><div></div></div>');let t=$.pathToBlog(e);if(!t)return void $.pageNotFound();let n=[];if(n=e in $.storage?$.storage[e]:await $.fetchPost(t),!("content"in n))return void $.pageNotFound();n.content=n.content.replaceAll("<pre><code>\n","<pre><code>").replaceAll("<pre>\n<code>\n","<pre><code>"),$("#blog").html(`<article class="post-content" id="post">${n.content}</article>`);let o=$("#post").text();$("#post").html((e=>`<h1>${n.title}</h1><div class="toc" id="toc" onclick="$.tocClick()"></div><ul id="toc-list" class="table-of-contents hidden"></ul>`+e)),$("#toc").html("Nội dung chính"),text=o.replace(/(\r\n|\n|\r)/gm,"").replace(n.title,""),text.length>147&&(text=text.substring(0,147).replace(/^\s+|\s+$/gm,"")+"...");let i=$.getImage(n.content);$.seo({title:n.title,desc:text,image:i,keywords:n.labels.map((e=>$.labels[e])).join(", ")}),$.toc();let a="";n.labels.forEach((e=>{a+=(""===a?"":", ")+`<span class="click" onclick="javascript:$.handler('/${e}')"><a href="/${e}">${$.labels[e]}</a></span>`})),$("article.post-content").html((e=>e+`<strong>Tags:</strong> ${a}</p>`)),$.createTag($("head"),'script[type="application/ld+json"]',"script",(e=>{e.type="application/ld+json",e.innerHTML=JSON.stringify({"@context":"https://schema.org","@type":"BlogPosting",headline:n.title,image:i,author:{"@type":"Person",name:"Sĩ Ben",url:"https://siben.vn"},editor:{"@type":"Person",name:"Sĩ Ben"},publisher:{"@type":"Organization",name:"Sĩ Ben",logo:{"@type":"ImageObject",url:$.meta.logo}},datePublished:n.published,dateModified:n.updated,description:text,articleBody:o,mainEntityOfPage:{"@type":"WebPage","@id":$.getURLCurrent()},keywords:n.labels.map((e=>$.labels[e])).join(", "),wordCount:$.wordCount(o).toString(),inLanguage:"vi",commentCount:39,interactionStatistic:{"@type":"InteractionCounter",interactionType:{"@type":"CommentAction"},userInteractionCount:39},about:{"@type":"Thing",name:n.title}})})),$.isLoaded=!1}else $.pageNotFound()},$.ads=e=>{let t=$(document).create("script");t.type="text/javascript",t.src=`https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=${e}`,t.async=!0,t.setAttribute("crossorigin","anonymous"),$("head").append(t)},$.gtag=e=>{let t=$(document).create("script");t.src="https://www.googletagmanager.com/gtag/js?id="+e,t.type="text/javascript",t.onload=()=>{function t(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],t("js",new Date),t("config",e)},$("head").append(t)},$.loadEvent("scroll click",(()=>{$.ads("ca-pub-8393244368108183"),$.gtag("G-DR4NXL3E6T")})),$(window).addEvent("popstate",(async()=>{""===window.location.hash&&await $.handler($.getPath(),!1)})),$(window).addEvent("DOMContentLoaded",(async()=>{$("body").html($.layouts()),$("nav>ul>li>span").each((e=>{$(e).addEvent("click",(()=>{$(".nav-btn>label").get().click()}))})),await $.handler($.getPath())}));
