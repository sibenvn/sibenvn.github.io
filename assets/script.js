function js(e,t){this.nodes=this.selector(e,t),this.length=this.nodes.length}js.prototype.selector=function(e,t){if(e instanceof HTMLElement)return[e];if(e instanceof Array)return[].slice.call(e);if(e instanceof Object)return[e];if(e&&"string"!=typeof e)return[e];if(t=t||document,/^#(?:[\w-]|\\.|[^\x00-\xa0])*$/.test(e)){const n=t.getElementById(e.substring(1));return n?[n]:[]}return[].slice.call(t.querySelectorAll(e)||[])},js.prototype.get=function(e=0){if(Number.isInteger(e))return this.nodes[e]??void 0},js.prototype.getAll=function(){return this.nodes},js.prototype.create=function(e,t=(e=>{})){if(e&&"string"!=typeof e)return void 0!==e.length?e:[e];let n=this.get().createElement(e);return n.onload=t(n),n},js.prototype.eq=function(e){const t=this.get(e);return void 0!==t?$(t):void 0},js.prototype.has=function(e=0){return void 0!==this.get(e)},js.prototype.remove=function(){return this.has()?this.get().remove():void 0},js.prototype.find=function(e){return this.has()?$(e,this.get()):void 0},js.prototype.append=function(e){this.get().append(e)},js.prototype.prepend=function(e){this.get().prepend(e)},js.prototype.each=function(e){return this.length?(this.nodes.forEach(e),this):this},js.prototype.addEvent=function(e,t,n=!1){for(var o=e.split(" "),i=0,a=o.length;i<a;i++)this.get().addEventListener(o[i],t,n)},js.prototype.removeEvent=function(e,t,n=!1){for(var o=e.split(" "),i=0,a=o.length;i<a;i++)this.get().removeEventListener(o[i],t,n)},js.prototype.html=function(e){return void 0!==e&&("string"==typeof e&&(this.get().innerHTML=e),"function"==typeof e&&(this.get().innerHTML=e(this.get().innerHTML))),this.get().innerHTML},js.prototype.text=function(e){return void 0!==e&&("string"==typeof e&&(this.get().innerText=e),"function"==typeof e&&(this.get().innerText=e(this.get().innerText))),this.get().innerText},js.prototype.val=function(e){return void 0!==e&&("string"==typeof e&&(this.get().value=e),"function"==typeof e&&(this.get().value=e(this.get().value))),this.get().value},js.prototype.attr=function(){let e=function(){};return e.prototype.get=function(e){return this.get().getAttribute(e)},e.prototype.set=function(e,t){return this.get().setAttribute(e,t)},e.prototype.remove=function(e){return this.get().removeAttribute(e)},new e},js.prototype.class=function(){let e=function(e){this.class=e};return e.prototype.has=function(e){return this.class.contains(e)},e.prototype.add=function(e){return this.class.add(e)},e.prototype.remove=function(e){return this.class.remove(e)},e.prototype.toggle=function(e){return this.class.toggle(e)},new e(this.get().classList)};const $=(e,t)=>new js(e,t);$.getDomain=()=>window.location.host,$.getURLOrigin=()=>window.location.origin,$.getURLCurrent=()=>window.location.origin+window.location.pathname,$.pageNotFound=()=>{$("html").html('<head><title>Not Found</title><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="robots" content="noindex"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico"><link rel="dns-prefetch" href="//fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin><link href="https://fonts.googleapis.com/css?family=Roboto:400" rel="stylesheet"><style>*{-webkit-tap-highlight-color:transparent;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;outline:none}body{font-family:"Roboto",system-ui,Helvetica,Arial,sans-serif;color:#a0aec0;background-color:#1a202c;font-size:20px;padding:0;margin:0}.container{display:block}.error{margin:auto;display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center;padding:1rem;min-height:100vh}.error>.error-body{display:block}.error>.error-body>.error-status-code{display:inline-block}.error>.error-body>.error-text{display:inline-block;text-transform:uppercase;border-left:1px solid #e2e8f0;padding-left:15px;padding-bottom:3px;margin-left:15px}</style></head><body><div class="container"><div class="error"><div class="error-body"><div class="error-status-code">404</div><div class="error-text">Not Found</div></div></div></div></body>')},$.loadEvent=(e,t)=>{let n=!1;$(window).addEvent(e,(()=>{!1===n&&(t(),n=!0)}))},$.meta={title:"Sĩ Ben",desc:"Sĩ Ben là trang web Blog cá nhân chuyên chia sẻ miễn phí các kiến thức, thủ thuật, mẹo hay liên quan đến lập trình và phát triển phần mềm hàng đầu VN.",image:"https://sibenvn.github.io/assets/thumbnail.png"},$.labels={"thu-thuat":"Thủ Thuật","lap-trinh":"Lập Trình","tin-tuc":"Tin Tức","meo-vat":"Mẹo Vặt","linh-tinh":"Linh Tinh"},$.pageToken="",$.getPath=()=>window.location.pathname,$.isBlogPath=e=>e.match(new RegExp(/^\/([0-9]+){4,4}\/([0-9]+){2,2}\/([a-z0-9-_]+)\.html$/)),$.buildAPI=(e="/",t={})=>{Object.assign(t,{key:"AIzaSyDWA8E9Aj8dQ4YZZIm779_XvvHxyd4w8jE"});return`https://www.googleapis.com/blogger/v3/blogs/${"2645484775443145447"+e}?${new URLSearchParams(t).toString()}`},$.fetchPosts=async(e="",t="")=>{const n={fields:"items(url,title,labels,published,content),nextPageToken",maxResults:10};""!==e&&Object.assign(n,{labels:e}),""!==t&&Object.assign(n,{pageToken:t});const o=await fetch($.buildAPI("/posts",n));return await o.json()},$.fetchPost=async e=>{if(!$.isBlogPath(e))return;const t=await fetch($.buildAPI("/posts/bypath",{path:e,fields:"title,content"}));return await t.json()},$.removeDomain=e=>e.replace(/^.*\/\/[^\/]+/,""),$.blogToPath=e=>{let t=(e=e.replace(".html","")).split("/");return"/"+t[3]+"-"+t[1]+t[2]},$.pathToBlog=e=>{let t=e.split("-"),n=t[t.length-1];t.pop();let o="/"+n.slice(0,4)+"/"+n.slice(4,6)+t.join("-")+".html";if($.isBlogPath(o))return o},$.layouts=()=>($("head").html((e=>e+'\n        <meta name="viewport" content="width=device-width, initial-scale=1">\n        <meta content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1" name="robots">\n        <meta content="notranslate" name="robots">\n        <meta content="notranslate" name="google"/>\n        <meta content="nohover" name="pinterest">\n        <meta content="index, follow" name="Googlebot">\n        <meta content="index, follow, noodp" name="ROBOTS">\n        <meta content="index, follow" name="BingBOT">\n        <meta content="index, follow" name="yahooBOT">\n        <meta content="index, follow" name="slurp">\n        <meta content="index, follow" name="msnbot">\n        <meta name="referrer" content="origin">\n        <link rel="preconnect dns-prefetch" href="//www.googletagmanager.com">\n        <link rel="preconnect dns-prefetch" href="//www.google-analytics.com">\n        <link rel="preconnect dns-prefetch" href="//ajax.googleapis.com">\n        <link rel="preconnect dns-prefetch" href="//cdnjs.cloudflare.com">\n        <link rel="preconnect dns-prefetch" href="//pagead2.googlesyndication.com">\n        <link rel="preconnect dns-prefetch" href="//googleads.g.doubleclick.net">\n        <link rel="preconnect dns-prefetch" href="//tpc.googlesyndication.com">\n        <link rel="preconnect dns-prefetch" href="//ad.doubleclick.net">\n        <link rel="preconnect dns-prefetch" href="//www.gstatic.com">\n        <link rel="preconnect dns-prefetch" href="//cse.google.com">\n        <link rel="preconnect dns-prefetch" href="//fonts.gstatic.com">\n        <link rel="preconnect dns-prefetch" href="//fonts.googleapis.com">\n        <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico">\n        <meta property="og:locale:alternate" content="vi_VN">\n    ')),'\n    <header>\n        <div class="container clear">\n            <div class="nav">\n                <div class="nav-header">\n                    <div class="nav-title"><span class="click" onclick="javascript:$.handler(\'/\')">siben</span></div>\n                </div>\n                <input type="checkbox" id="nav-check">\n                <div class="nav-btn">\n                    <label for="nav-check"><span></span><span></span><span></span></label>\n                </div>\n                <nav>\n                    <ul>\n                        <li><span class="click" onclick="javascript:$.handler(\'/thu-thuat\')"><a href="/thu-thuat">Thủ Thuật</a></li>\n                        <li><span class="click" onclick="javascript:$.handler(\'/lap-trinh\')"><a href="/lap-trinh">Lập Trình</a></li>\n                        <li><span class="click" onclick="javascript:$.handler(\'/tin-tuc\')"><a href="/tin-tuc">Tin Tức</a></li>\n                        <li><span class="click" onclick="javascript:$.handler(\'/linh-tinh\')"><a href="/linh-tinh">Linh Tinh</a></li>\n                        <li><span class="click" onclick="javascript:$.handler(\'/meo-vat\')"><a href="/meo-vat">Mẹo Vặt</a></li>\n                    </ul>\n                </nav>\n            </div>\n        </div>\n    </header>\n    <main>\n        <div class="container clear" id="blog">\n    </div>\n    </main>\n    <footer>\n        <div class="container clear">\n            <p class="copyright">Copyright &copy; 2020 - <a href="/">Sĩ Ben</a></p>\n        </div>\n    </footer>\n    '),$.show=e=>{e.class().has("hidden")&&e.class().remove("hidden")},$.hide=e=>{e.class().has("hidden")||e.class().add("hidden")},$.strToDateFormatDMY=e=>{let t=new Date(e);return(t.getDate()>9?t.getDate():"0"+t.getDate())+"/"+(t.getMonth()>8?t.getMonth()+1:"0"+(t.getMonth()+1))+"/"+t.getFullYear()},$.createTag=(e,t,n,o)=>{let i=$(t);i.has()?o(i.get()):(i=$(document).create(n),i.onload=o(i),e.append(i))},$.seo=e=>{const t=$("head");$.createTag(t,"title","title",(t=>{t.innerText=e.title})),$.createTag(t,"meta[name=description]","meta",(t=>{t.name="description",t.setAttribute("content",e.desc)})),$.createTag(t,'meta[property="og:title"]',"meta",(t=>{t.setAttribute("property","og:title"),t.setAttribute("content",e.title)})),$.createTag(t,'meta[property="og:description"]',"meta",(t=>{t.setAttribute("property","og:description"),t.setAttribute("content",e.desc)})),$.createTag(t,'meta[property="og:image"]',"meta",(t=>{t.setAttribute("property","og:image"),t.setAttribute("content",e.image)})),$.createTag(t,'meta[property="og:url"]',"meta",(e=>{e.setAttribute("property","og:url"),e.setAttribute("content",$.getURLCurrent())})),$.createTag(t,'meta[property="og:type"]',"meta",(e=>{e.setAttribute("property","og:type"),e.setAttribute("content","website")})),$.createTag(t,'meta[property="og:site_name"]',"meta",(e=>{e.setAttribute("property","og:site_name"),e.setAttribute("content",$.getDomain())})),$.createTag(t,'link[rel="canonical"]',"link",(e=>{e.setAttribute("rel","canonical"),e.setAttribute("href",$.getURLCurrent())}))},$.getImage=e=>{let t=e.match(/src="(.+?)"/);return t?t[1]:$.meta.image},$.toc=e=>{const t=$("#toc-list").get(),n=$("article h2, article h3, article h4, article h5, article h6").getAll();let o=2,i=t,a={2:t};n.forEach(((e,t)=>{const n=parseInt(e.tagName[1]),r=$(document).create("li"),s=$(document).create("a");if(s.textContent=e.textContent,s.href=`#heading-${t}`,e.id=`heading-${t}`,n>o){const e=$(document).create("ul");a[o].lastElementChild.appendChild(e),i=e,a[n]=e}else n<o&&(i=a[n]);r.appendChild(s),i.appendChild(r),o=n}))},$.storage=[],$.showPost=(e,t)=>{let n=$.blogToPath($.removeDomain(t.url)),o="";t.labels.forEach((e=>{$.labels.hasOwnProperty(e)&&(o+=(""==o?"":", ")+`<span class="click" onclick="javascript:$.handler('/${e}')"><a class="category" href="/${e}">${$.labels[e]}</a></span>`)})),$.storage[n]=t,e.html((e=>e+`\n        <article class="post">\n            <h2><span class="click" onclick="javascript:$.handler('${n}')"><a class="noclick" href="${n}">${t.title}</a></span></h2>\n            <p>${o} - ${$.strToDateFormatDMY(t.published)}</p>\n        </article>\n    `))},$.handler=async e=>{if(window.history.pushState({},"",e),"/"==e||$.labels.hasOwnProperty(e.replace("/",""))){$("#blog").html(""),window.scrollTo(0,0);let t=e.replace("/",""),n={};n="/"==e?$.meta:{title:$.labels[t],desc:`Chuyên mục đăng tải các bài viết hay liên quan về ${$.labels[t]} trên Blog.`,image:$.meta.image},$.seo(n),$("#blog").html(`\n            <div class="blog">\n            <h1 class="hidden">${n.title}</h1>\n            <p class="hidden">${n.desc}</p>\n            <div class="posts" id="posts"></div>\n            <div id="loading" class="lds-ellipsis hidden"><div></div><div></div><div></div><div></div></div>\n            <div class="pagination">\n            <button id="showmore">Xem Thêm</button>\n            </div>\n            </div>\n        `);const o=$("#loading"),i=$("#showmore");$.show(o),$.hide(i);let a=[];if(e in $.storage?a=$.storage[e]:(a=await $.fetchPosts(t),$.storage[e]=a),!("items"in a))return $("#posts").html('<p style="text-align: center;color: #5c5757;padding: 28px 0px 19px 0px">Chưa có đăng bài nào cả.</p>'),void $.hide(o);a.items.forEach((e=>{$.showPost($("#posts"),e)})),$.hide(o),"nextPageToken"in a&&""!==a.nextPageToken?($.pageToken=a.nextPageToken,$.show(i)):($.pageToken="",$.hide(i)),i.addEvent("click",(async()=>{$.show(o),$.hide(i),a=await $.fetchPosts("",$.pageToken),e in $.storage&&($.storage[e].items=$.storage[e].items.concat(a.items),"nextPageToken"in a&&""!==a.nextPageToken?$.storage[e].nextPageToken=a.nextPageToken:$.storage[e].nextPageToken=""),a.items.forEach((e=>{$.showPost($("#posts"),e)})),$.hide(o),"nextPageToken"in a&&""!==a.nextPageToken?($.pageToken=a.nextPageToken,$.show(i)):($.pageToken="",$.hide(i))}))}else if(e.match(new RegExp(/^\/([a-z0-9-_]+)\-([0-9]+){4,4}$/))){window.scrollTo(0,0),$("#blog").html(""),$("#blog").append($(document).create("div",(function(e){e.className="lds-ellipsis",e.id="loading",e.appendChild($(document).create("div")),e.appendChild($(document).create("div")),e.appendChild($(document).create("div")),e.appendChild($(document).create("div"))})));let t=$.pathToBlog(e);if(!t)return void $.pageNotFound();let n=[];if(n=e in $.storage?$.storage[e]:await $.fetchPost(t),!("content"in n))return void $.pageNotFound();let o=$(document).create("article",(e=>{e.className="post-content",e.id="post",e.appendChild($(document).create("h1",(e=>{e.innerHTML=n.title}))),e.innerHTML+='<div class="toc" id="toc">Nội dung chính</div>',e.appendChild($(document).create("ul",(e=>{e.id="toc-list",e.className="table-of-contents hidden"}))),e.innerHTML+=n.content}));$("#blog").html(""),$("#blog").append(o),$("#toc").addEvent("click",(()=>{$("#toc-list").class().toggle("hidden")}));let i=$("#post").text();i=i.replace(/(\r\n|\n|\r)/gm,"").replace(n.title,""),i.length>97&&(i=i.substring(0,97).replace(/^\s+|\s+$/gm,"")+"..."),$.seo({title:n.title,desc:i,image:$.getImage(n.content)}),$.toc(n.content)}else $.pageNotFound()},$.ads=e=>{let t=$(document).create("script");t.type="text/javascript",t.src=`https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=${e}`,t.async=!0,t.setAttribute("crossorigin","anonymous"),$("head").append(t)},$.gtag=e=>{let t=$(document).create("script");t.src="https://www.googletagmanager.com/gtag/js?id="+e,t.type="text/javascript",t.onload=()=>{function t(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],t("js",new Date),t("config",e)},$("head").append(t)},$.loadEvent("scroll click",(()=>{$.ads("ca-pub-8393244368108183"),$.gtag("G-DR4NXL3E6T")})),window.onload=async()=>{$("body").html($.layouts()),await $.handler($.getPath())};
